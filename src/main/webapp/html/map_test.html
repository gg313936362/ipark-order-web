<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="format-detection" content="telephone=no" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>map测试</title>
</head>
<link rel="stylesheet" href="../resources/css/lib/gaode_map/main1119.css">
<script src="http://webapi.amap.com/maps?v=1.3&key=ea0560f531c1771672f12e974bb6891d"></script>
<script type="text/javascript" src="../resources/js/lib/gaode_map/addToolbar.js"></script>

<body>
<div id="container"></div>
</body>
<script>
  var map = new AMap.Map('container', {
    resizeEnable: true,
    zoom:11,
    center: [116.397428, 39.90923]

  });
  var lnglats = [
    [116.368904, 39.923423],
    [116.382122, 39.921176],
    [116.387271, 39.922501],
    [116.398258, 39.914600]
  ];
  var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -30)});
  for (var i = 0, marker; i < lnglats.length; i++) {
    var marker = new AMap.Marker({
      position: lnglats[i],
      map: map
    });
    marker.content = '我是第' + (i + 1) + '个Marker';
    marker.on('click', markerClick);
    marker.emit('click', {target: marker});
  }
  function markerClick(e) {
    infoWindow.setContent(e.target.content);
    infoWindow.open(map, e.target.getPosition());
  }
  map.setFitView();
</script>
</html>
